{"version":3,"sources":["status-bar.js"],"names":["StatusBar","createShadowRoot","innerHTML","WebComponents","undefined","flags","shadow","ShadowCSS","shimStyling","shadowRoot","$container","querySelector","$close","$icon","types","_type","getAttribute","_timeout","_closeable","_icon","_detached","attrName","oldVal","newVal","callbacks","hasOwnProperty","call","isCloseable","hasAttribute","_toggle","setAttribute","addEventListener","_close","bind","e","which","classList","add","setTimeout","parentNode","removeChild","hasIcon","indexOf","type","timeout","Number","isInteger","parseInt","isDetached","el","cls","condition","remove","HTMLElement","document","registerElement"],"mappings":"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","file":"status-bar.js","sourcesContent":["'use strict';\n\nclass StatusBar extends HTMLElement {\n\n    static get is() {\n        return 'status-bar';\n    }\n    // Use createdCallback instead of constructor to init an element.\n    createdCallback() {\n    // This element uses Shadow DOM.\n        this.createShadowRoot().innerHTML = `\n        <style>\n        .status-bar__container {\n            position: relative;\n            z-index: 800;\n            margin: 0;\n            width: 100%;\n            max-height: 500px;\n            color: inherit;\n            fill: currentColor;\n            background-image: linear-gradient(rgba(255,255,255,.95),rgba(255,255,255,.95));\n            background-color: currentColor;\n            transition: opacity .35s ease, max-height .5s ease;\n        }\n        .status-bar__container.is-hidden {\n            transition: opacity .35s ease, max-height .5s ease;\n            opacity: 0;\n            max-height: 0;\n        }\n        .status-bar__container[type=\"notice\"]{\n            color: var(--status-bar-notice-color, rgb(28,124,214));\n        }\n        .status-bar__container[type=\"notice\"] .status-bar__content{\n            box-shadow: inset 0 -1px 0 0 var(--status-bar-notice-color, rgb(28,124,214)),\n            0 1px 2px 0 rgba(0,0,0,.15);\n        }\n        .status-bar__container[type=\"success\"]{\n            color: var(--status-bar-success-color, rgb(55,178,77));\n        }\n        .status-bar__container[type=\"success\"] .status-bar__content{\n            box-shadow: inset 0 -1px 0 0 var(--status-bar-success-color, rgb(55,178,77)),\n            0 1px 2px 0 rgba(0,0,0,.15);\n        }\n        .status-bar__container[type=\"warning\"]{\n            color: var(--status-bar-warning-color, rgb(250,176,5));\n        }\n        .status-bar__container[type=\"warning\"] .status-bar__content{\n            box-shadow: inset 0 -1px 0 0 var(--status-bar-warning-color, rgb(250,176,5)),\n            0 1px 2px 0 rgba(0,0,0,.15);\n        }\n        .status-bar__container[type=\"error\"]{\n            color: var(--status-bar-error-color, rgb(240,62,62));\n        }\n        .status-bar__container[type=\"error\"] .status-bar__content{\n            box-shadow: inset 0 -1px 0 0 var(--status-bar-error-color, rgb(240,62,62)),\n            0 1px 2px 0 rgba(0,0,0,.15);\n        }\n        .status-bar__content{\n            position: relative;\n            display: flex;\n        }\n        .status-bar__container.is-detached .status-bar__content{\n            margin: 10px 0;\n            border-radius: var(--status-bar-detached-border-radius, 5px);\n            box-shadow: inset 0 0 0 1px currentColor,\n                        var(--status-bar-detached-shadow, 0 0 2px 0 rgba(0,0,0,.25));\n        }\n        .status-bar__hide{\n            outline: none;\n            position: absolute;\n            right: 0;\n            top: 0;\n            height: 100%;\n            width: 50px;\n            box-sizing: border-box;\n        }\n        .status-bar__hide svg{\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            width: 15px;\n            height: 15px;\n            transform: translate(-50%, -50%);\n        }\n        .status-bar__hide:before{\n            content: \"\";\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            background-color: currentColor;\n            opacity: 0;\n            transition: opacity .35s ease;\n        }\n        .status-bar__hide:hover:before, .status-bar__hide:focus:before{\n            transition: opacity .35s ease;\n            opacity: .2;\n        }\n        .status-bar__icon{\n            position: relative;\n            flex: 0 0 20px;\n            fill: inherit;\n            margin-left: 10px;\n        }\n        .status-bar__icon svg{\n            fill: inherit;\n            width: 20px;\n            height: 20px;\n            position: absolute;\n            top: calc(50% - 10px);\n            left: 0;\n        }\n        .status-bar__text{\n            margin: 0;\n            padding: 20px 60px 20px 15px;\n        }\n        .status-hidden{\n            display: none;\n        }\n        </style>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display:none\">\n            <symbol id=\"svg-icon--success\" viewbox=\"0 0 20 20\"><path d=\"M2.929 17.071c3.905 3.905 10.237 3.905 14.142 0 3.905-3.905 3.905-10.237 0-14.142-3.905-3.905-10.237-3.905-14.142 0-3.905 3.905-3.905 10.237 0 14.142zm12.728-1.414A8 8 0 1 0 4.343 4.343a8 8 0 0 0 11.314 11.314zM4 10l2-2 3 3 5-5 2 2-7 7-5-5z\"fill-rule=\"evenodd\"/></symbol>\n            <symbol id=\"svg-icon--error\" viewbox=\"0 0 20 20\"><path d=\"M11.414 10l2.829-2.828-1.415-1.415L10 8.586 7.172 5.757 5.757 7.172 8.586 10l-2.829 2.828 1.415 1.415L10 11.414l2.828 2.829 1.415-1.415L11.414 10zM2.93 17.071c3.905 3.905 10.237 3.905 14.142 0 3.905-3.905 3.905-10.237 0-14.142-3.905-3.905-10.237-3.905-14.142 0-3.905 3.905-3.905 10.237 0 14.142zm1.414-1.414A8 8 0 1 0 15.657 4.343 8 8 0 0 0 4.343 15.657z\" fill-rule=\"evenodd\"/></symbol>\n            <symbol id=\"svg-icon--warning\" viewbox=\"0 0 20 20\"><path d=\"M2.929 17.071c3.905 3.905 10.237 3.905 14.142 0 3.905-3.905 3.905-10.237 0-14.142-3.905-3.905-10.237-3.905-14.142 0-3.905 3.905-3.905 10.237 0 14.142zm12.728-1.414A8 8 0 1 0 4.343 4.343a8 8 0 0 0 11.314 11.314zM9 5h2v6H9V5zm0 8h2v2H9v-2z\" fill-rule=\"evenodd\"/></symbol>\n            <symbol id=\"svg-icon--notice\" viewbox=\"0 0 20 20\"><path d=\"M2.929 17.071c3.905 3.905 10.237 3.905 14.142 0 3.905-3.905 3.905-10.237 0-14.142-3.905-3.905-10.237-3.905-14.142 0-3.905 3.905-3.905 10.237 0 14.142zm12.728-1.414A8 8 0 1 0 4.343 4.343a8 8 0 0 0 11.314 11.314zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" fill-rule=\"evenodd\"/></symbol>\n        </svg>\n        <div class=\"status-bar__container\">\n            <div class=\"status-bar__content\">\n                <div class=\"status-bar__icon\">\n                    <svg>\n                        <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#svg-icon--notice\"></use>\n                    </svg>\n                </div>\n                <p class=\"status-bar__text\"><content></content></p>\n                <div class=\"status-bar__hide\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\"><polygon points=\"432.449,131.185 380.748,79.483 256,204.344 131.252,79.483 79.551,131.185 204.379,256.012 79.551,380.952 131.117,432.517 256,307.634 380.883,432.517 432.449,380.952 307.621,256.012\"/></svg>\n                </div>\n            </div>\n        </div>\n        `;\n        // shim shadowDOM styling\n        if(WebComponents !== undefined && WebComponents.flags.shadow === true){\n            WebComponents.ShadowCSS.shimStyling( this.shadowRoot, 'status-bar' )\n        }\n        // get elements\n        this.$container = this.shadowRoot.querySelector('.status-bar__container');\n        this.$close = this.$container.querySelector('.status-bar__hide');\n        this.$icon = this.$container.querySelector('.status-bar__icon');\n        // set available types\n        this.types = ['notice','error','success','warning'];\n        // initialize\n        this._type(this.getAttribute('type'));\n        this._timeout(this.getAttribute('timeout'));\n        this._closeable();\n        this._icon();\n        this._detached();\n    }\n    /**\n     * when an attribute is changed\n     */\n    attributeChangedCallback(attrName, oldVal, newVal) {\n        // define callbacks\n        var callbacks = {\n            'closeable': this._closeable,\n            'icon': this._icon,\n            'type': this._type,\n            'timeout': this._timeout,\n            'detached': this._detached\n        };\n        // call callback if it exists\n        if(callbacks.hasOwnProperty(attrName)) {\n            callbacks[attrName].call(this, newVal, oldVal);\n        }\n    }\n    /**\n     * show or hide x to close status-bar\n     */\n    _closeable(){\n        var isCloseable = (this.hasAttribute('closeable') && this.getAttribute('closeable') !== 'false');\n\n        this._toggle(\n            this.$close,\n            'status-hidden',\n            isCloseable !== true\n        );\n\n        if(isCloseable === true){\n            // add tab index\n            this.$close.setAttribute('tabindex',0);\n            // add close trigger\n            this.$close.addEventListener('click', function(){\n                this._close();\n            }.bind(this));\n            // hide status bar on focus x and Enter\n            this.$close.addEventListener('keydown', function(e){\n                if (e.which == 13) {\n                    this._close();\n                }\n            }.bind(this));\n        }\n    };\n    /**\n     * close and remove the status-bar\n     */\n    _close(){\n        // hide item\n        this.$container.classList.add('is-hidden');\n        // wait until animation is done and remove item\n        setTimeout(function(){\n            this.parentNode.removeChild(this);\n        }.bind(this),1000);\n    }\n    /**\n     * show or hide icon before message\n     */\n    _icon(){\n        var hasIcon = (this.hasAttribute('icon') && this.getAttribute('icon') !== 'false');\n        // toggle icon\n        this._toggle(\n            this.$icon,\n            'status-hidden',\n            hasIcon !== true\n        );\n        // set icon svg\n        if(hasIcon !== false && this.types.indexOf(this.type) > -1){\n            this.$icon.querySelector('use').setAttribute('xlink:href','#svg-icon--'+this.type);\n        }\n    };\n    /**\n     * update icon if type changes\n     */\n    _type(type){\n        this.type = 'notice';\n        // set type\n        if(this.types.indexOf(type) > -1){\n            this.type = type;\n        }\n        this.$container.setAttribute('type',this.type);\n        // update icon\n        this._icon();\n    }\n    /**\n     * remove status bar after period defined in timeout\n     */\n    _timeout(timeout){\n        // set timout to number or null\n        timeout = Number.isInteger(parseInt(timeout)) ? parseInt(timeout) : null;\n        if(timeout !== null){\n            setTimeout(function(){\n                this._close();\n            }.bind(this), timeout);\n        }\n    }\n    /**\n     * toggle between detached and attached mode\n     */\n    _detached(){\n        var isDetached = (this.hasAttribute('detached') && this.getAttribute('detached') !== 'false');\n        // toggle is-detached class\n        this._toggle(\n            this.$container,\n            'is-detached',\n            isDetached\n        );\n    }\n    /**\n     * since classList.toggle with a second param is not supported in IE11 and below\n     */\n    _toggle(el, cls, condition){\n        if(condition === true){\n            el.classList.add(cls);\n        }else{\n            el.classList.remove(cls);\n        }\n    }\n}\n\ndocument.registerElement('status-bar', StatusBar);\n"]}